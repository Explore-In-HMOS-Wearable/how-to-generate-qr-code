@Builder
export function QRGenerateComponentPageBuilder() {
    QRGenerateComponentPage();
}

@Component
struct QRGenerateComponentPage {
    @Consume('NavPathStack') pageStack: NavPathStack;
    @State qrCodeInput: string = 'HelloQR!';

    aboutToAppear(): void {
        this.qrCodeInput = this.pageStack.getParamByName('QRGenerateComponentPage')[0] as string;
    }

    build() {
        NavDestination() {
            Flex({ justifyContent: FlexAlign.Center, alignItems: ItemAlign.Center }) {
                Column({ space: 10 }) {
                    Text('Generated by\nComponent')
                        .fontColor(Color.White)
                        .fontSize(18)
                        .fontWeight(FontWeight.Medium)
                    Row() {
                        QRCode(this.qrCodeInput)
                            .width('50%')
                            .aspectRatio(1)
                    }
                    .padding(2)
                    .backgroundColor(Color.White)

                    Text('Scan Me')
                        .fontColor(Color.White)
                        .fontSize(18)
                        .fontWeight(FontWeight.Medium)
                }
                .width('100%')
                .height('100%')
                .alignItems(HorizontalAlign.Center)
                .justifyContent(FlexAlign.Center)
            }
            .backgroundColor(Color.Black)
            .width('100%')
            .height('100%')
        }
        .hideTitleBar(true)
        .hideBackButton(true)
    }
}